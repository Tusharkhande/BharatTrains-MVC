<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{base::layout(~{::div}, '')}">
   <head>
      <title>Add Train</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

   </head>
   <body>
      <div class="container mt-4">
         <h2 class="text-center text-primary">Add New Train</h2>
         <form th:action="@{/bharattrains/trains/save-train}" method="post">
            <div class="mb-3">
               <label>Train ID:</label>
               <input type="text" class="form-control" name="trainId" required>
            </div>
            <div class="mb-3">
               <label>Train Name:</label>
               <input type="text" class="form-control" name="trainName" required>
            </div>
            <div class="mb-3">
               <label>Total Seats:</label>
               <input type="number" class="form-control" name="seatCount" required>
            </div>
            <!-- Routes -->
            <h4 class="text-info mt-4">Routes</h4>
            <div id="routeContainer">
               <div class="route-row row mb-2">
                  <div class="col-md-3">
                     <input type="text" class="form-control" name="routes[0].station" placeholder="Station Name" required>
                  </div>
                  <div class="col-md-3">
                     <input type="time" class="form-control" name="routes[0].arrivalTime" required>
                  </div>
                  <div class="col-md-3">
                     <input type="time" class="form-control" name="routes[0].departureTime" required>
                  </div>
			        <div class="col-md-3">
			            <input type="date" class="form-control" name="routes[0].journeyDate" required>
			        </div>
               </div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-info mt-2" onclick="addRouteRow()">+ Add Route</button>
            <!-- Seat Mappings -->
            <h4 class="text-success mt-4">Seat Mappings</h4>
            <div id="seatContainer">
               <div class="seat-row row mb-2">
                  <div class="col-md-3">
                     <input type="text" class="form-control" name="seatMappings[0].station" placeholder="Station Name" required>
                  </div>
                  <div class="col-md-3">
                     <input type="date" class="form-control" name="seatMappings[0].journeyDate" required>
                  </div>
                  <div class="col-md-3">
                     <input type="text" class="form-control" name="seatMappings[0].seats" placeholder="Seats (comma-separated)" required>
                  </div>
               </div>
            </div>
            <button type="button" class="btn btn-sm btn-outline-success mt-2" onclick="addSeatMappingRow()">+ Add Seat Mapping</button>
            <br><br>
            <button type="submit" class="btn btn-primary">Save Train</button>
         </form>
      </div>
      
   </body>
</html>