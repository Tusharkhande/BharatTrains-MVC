
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content)"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<title>Bharat Trains</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.5.0/font/bootstrap-icons.min.css" rel="stylesheet">

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<style>
body, html {
	height: 100%;
}

.content-wrapper {
	flex: 1;
}
</style>
</head>
<body class=" d-flex justify-content-between flex-column">
	<nav th:replace="fragments :: navbar"></nav>
	<div class="container mt-4 content-wrapper">
		<!-- <th:block th:insert="${content}"></th:block>-->
		<th:block th:if="${content != null}">
			<th:block th:insert="${content}"></th:block>
		</th:block>

		<th:block th:unless="${content != null}">
			<h1>Welcome to Bharat Trains</h1>
			<p>Your journey starts here. Book tickets and explore trains
				across India.</p>
		</th:block>
	</div>
	<footer th:replace="fragments :: footer"></footer>

	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

		
	<script>
		document.addEventListener("DOMContentLoaded", function() {
			$('#bookModal').on(
					'show.bs.modal',
					function(event) {
						if (!event.relatedTarget) {
							console.error("No relatedTarget found!");
							return;
						}
						var button = $(event.relatedTarget);

						if (!button.data('train-id')) {            
							console.error("Button is missing data attributes!");
							return;
						}
						console.log('Modal Opened');
						console.log(button.data());

						var button = $(event.relatedTarget);
						var trainId = button.data('train-id');
						var trainName = button.data('train-name');
						var source = button.data('source');
						var destination = button.data('destination');
						var departure = button.data('departure');
						var arrival = button.data('arrival');
						var journeyDate = button.data('journey-date');
						var travelTime = button.data('travel-time');

						console.log(trainId, trainName, source, destination,
								departure, arrival, journeyDate, travelTime);
						var modal = $(this);
						modal.find('#modalTrainId').val(trainId);
						modal.find('#modalTrainName').val(trainName);
						modal.find('#modalSource').val(source);
						modal.find('#modalDestination').val(destination);
						modal.find('#modalDeparture').val(departure);
						modal.find('#modalArrival').val(arrival);
						modal.find('#modalJourneyDate').val(journeyDate);
						modal.find('#modalTravelTime').val(travelTime);

						modal.find('#displayTrainName').text(trainName);
						modal.find('#displaySource').text(source);
						modal.find('#displayDestination').text(destination);
						modal.find('#displayDeparture').text(departure);
						modal.find('#displayArrival').text(arrival);
						modal.find('#displayJourneyDate').text(journeyDate);
						modal.find('#displayTravelTime').text(travelTime);
					});
		});
	</script>
</body>
</html>
