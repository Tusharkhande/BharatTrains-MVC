<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
   th:replace="~{base::layout(~{::div}, '/css/admin-dashboard.css')}">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Admin Dashboard</title>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
      <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
   </head>
   <body>
      <div class="container mt-4">
         <h2 class="text-center text-primary fw-bold">üõ†Ô∏è Admin Dashboard</h2>
         <!-- Statistics Cards -->
         <div class="row mt-4">
            <!-- Total Users -->
            <div class="col-md-3">
               <div class="card text-white bg-danger text-center shadow-sm p-3">
                  <i class="fas fa-users fa-2x"></i>
                  <h6 class="mt-2">Total Users</h6>
                  <h4 th:text="${totalUsers}"></h4>
               </div>
            </div>
            <!-- Total Trains -->
            <div class="col-md-3">
               <div class="card text-white bg-info text-center shadow-sm p-3">
                  <i class="fas fa-train fa-2x"></i>
                  <h6 class="mt-2">Total Trains</h6>
                  <h3 th:text="${totalTrains}"></h3>
               </div>
            </div>
            <!-- Total Bookings -->
            <div class="col-md-3">
               <div class="card text-white bg-success text-center shadow-sm p-3">
                  <i class="fas fa-ticket-alt fa-2x"></i>
                  <h6 class="mt-2">Total Bookings</h6>
                  <h3 th:text="${totalBookings}"></h3>
               </div>
            </div>
            <!-- Total Revenue -->
            <div class="col-md-3">
               <div class="card text-white bg-warning text-center shadow-sm p-3">
                  <i class="fas fa-wallet fa-2x"></i>
                  <h6 class="mt-2">Total Revenue</h6>
                  <h3>‚Çπ<span th:text="${totalRevenue}"></span>L</h3>
               </div>
            </div>
         </div>
         <!-- Management Links -->
         <div class="row mt-4">
            <!-- User Management -->
            <div class="col-md-4">
               <a href="/bharattrains/admin/users" class="card text-center shadow-sm dashboard-link p-3">
                  <i class="fas fa-user-cog fa-2x text-primary"></i>
                  <h5 class="mt-2">User Management</h5>
                  <p>Manage all registered users</p>
               </a>
            </div>
            <!-- Train Management -->
            <div class="col-md-4">
               <a href="/bharattrains/admin/trains" class="card text-center shadow-sm dashboard-link p-3">
                  <i class="fas fa-train fa-2x text-info"></i>
                  <h5 class="mt-2">Train Management</h5>
                  <p>Manage all train details</p>
               </a>
            </div>
            <!-- Booking Management -->
            <div class="col-md-4">
               <a href="/bharattrains/admin/bookings" class="card text-center shadow-sm dashboard-link p-3">
                  <i class="fas fa-file-invoice fa-2x text-success"></i>
                  <h5 class="mt-2">Booking Management</h5>
                  <p>Manage all ticket bookings</p>
               </a>
            </div>
         </div>
         <!-- Recent Bookings -->
         <div class="row mt-4">
            <div class="col-md-12">
               <div class="card p-4 shadow-sm">
                  <h5>üìã Recent Bookings</h5>
                  <ul class="list-group">
                     <li class="list-group-item d-flex justify-content-between align-items-center"
                        th:each="booking : ${bookingList}">
                        <span>
                        <strong th:text="'#' + ${booking.bookingId}"></strong> -
                        <span th:text="${booking.trainName}"></span>
                        (<span th:text="${booking.source}"></span> to
                        <span th:text="${booking.destination}"></span>) -
                        <span th:text="${booking.journeyDate}"></span>
                        </span>
                        <span class="badge"
                           th:classappend="${booking.bookingStatus}== 'CONFIRMED' ? 'bg-success' :
                           'bg-danger'"
                           th:text="${booking.bookingStatus}">
                        </span>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>